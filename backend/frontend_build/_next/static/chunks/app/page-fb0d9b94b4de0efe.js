(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(5155),l=s(2115);function r(){let[e,t]=(0,l.useState)(""),[s,r]=(0,l.useState)([]),[n,o]=(0,l.useState)(!1),[i,c]=(0,l.useState)(null),u=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=localStorage.getItem("chat_messages");e&&r(JSON.parse(e))},[]),(0,l.useEffect)(()=>{var e;localStorage.setItem("chat_messages",JSON.stringify(s)),null==(e=u.current)||e.scrollIntoView({behavior:"smooth"})},[s]);let d=async s=>{if(s.preventDefault(),!e.trim())return;let a={role:"user",content:e,timestamp:new Date().toISOString()};r(e=>[...e,a]),t(""),o(!0),c(null);try{let t=await fetch("http://127.0.0.1:8000/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})}),s=await t.json();if(t.ok){let e={role:"ai",content:s.answer,timestamp:s.timestamp_responded};r(t=>[...t,e])}else c(s.detail||"An error occurred.")}catch(e){c("Server not reachable.")}finally{o(!1)}};return(0,a.jsxs)("main",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-start p-4 sm:p-6",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold mb-4 text-blue-800 text-center",children:"AI Q&A Assistant"}),(0,a.jsxs)("div",{className:"w-full max-w-2xl bg-white rounded-lg shadow p-4 h-[70vh] overflow-y-auto space-y-3",children:[s.map((e,t)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"),children:(0,a.jsxs)("div",{className:"p-3 rounded-lg text-sm max-w-[80%] ".concat("user"===e.role?"bg-blue-600 text-white":"bg-gray-200 text-gray-900"),children:[(0,a.jsx)("p",{children:e.content}),(0,a.jsx)("div",{className:"text-xs mt-1 opacity-60",children:new Date(e.timestamp).toLocaleString()}),"ai"===e.role&&(0,a.jsx)("button",{className:"mt-2 text-xs underline text-blue-700",onClick:()=>{var t;return t=e.content,void navigator.clipboard.writeText(t)},children:"Copy"})]})},t)),(0,a.jsx)("div",{ref:u})]}),(0,a.jsxs)("form",{onSubmit:d,className:"w-full max-w-2xl mt-4 flex gap-2 flex-col sm:flex-row",children:[(0,a.jsx)("textarea",{className:"flex-grow p-3 border border-gray-300 rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ask your question...",rows:3,value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:n?"Thinking...":"Ask AI"})]}),i&&(0,a.jsx)("div",{className:"mt-4 text-red-600 font-medium",children:i})]})}},5044:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))}},e=>{e.O(0,[441,964,358],()=>e(e.s=5044)),_N_E=e.O()}]);