(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5155),r=s(2115);function l(){let[e,t]=(0,r.useState)(""),[s,l]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[o,c]=(0,r.useState)(null),[d,u]=(0,r.useState)(null),[h,x]=(0,r.useState)(!1),g=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;null==(e=g.current)||e.scrollIntoView({behavior:"smooth"})},[s]),(0,r.useEffect)(()=>{let e=localStorage.getItem("chatHistory");e&&l(JSON.parse(e))},[]),(0,r.useEffect)(()=>{localStorage.setItem("chatHistory",JSON.stringify(s))},[s]),(0,r.useEffect)(()=>{document.body.classList.toggle("dark",h)},[h]);let b=async a=>{if(a.preventDefault(),e.trim()){i(!0),c(null);try{let a=await fetch("http://127.0.0.1:8000/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})}),r=await a.json();if(a.ok){let a={question:e,answer:r.answer,timestamp:r.timestamp_responded};l(e=>[...e,a]),u(s.length),t("")}else c(r.detail||"Something went wrong.")}catch(e){c("Server is unreachable.")}finally{i(!1)}}};return(0,a.jsxs)("div",{className:"min-h-screen flex ".concat(h?"bg-gray-900 text-white":"bg-gray-100 text-black"),children:[(0,a.jsxs)("aside",{className:"w-64 bg-white dark:bg-gray-800 p-4 border-r dark:border-gray-700 hidden md:block",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold mb-4 text-black dark:text-white",children:"Chat History"}),(0,a.jsx)("ul",{className:"space-y-2",children:s.map((e,t)=>(0,a.jsxs)("li",{className:"cursor-pointer p-2 rounded text-black dark:text-white ".concat(t===d?"bg-blue-600 text-white":"hover:bg-gray-200 dark:hover:bg-gray-700"),onClick:()=>u(t),children:[e.question.slice(0,30),"..."]},t))})]}),(0,a.jsxs)("main",{className:"flex-1 flex flex-col items-center p-6 space-y-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-center",children:"AI Q&A Assistant"}),(0,a.jsxs)("form",{onSubmit:b,className:"w-full max-w-2xl space-y-4",children:[(0,a.jsx)("textarea",{rows:4,className:"w-full p-4 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 text-black bg-white dark:bg-gray-800",placeholder:"Ask your question...",value:e,onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700 transition",children:n?"Thinking...":"Ask AI"})]}),o&&(0,a.jsx)("p",{className:"text-red-500",children:o}),null!==d&&s[d]&&(0,a.jsxs)("div",{className:"mt-6 w-full max-w-2xl bg-white dark:bg-gray-800 p-6 rounded-lg shadow space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"You:"}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-black",children:s[d].question})]}),(0,a.jsxs)("div",{className:"border-t pt-3",children:[(0,a.jsxs)("p",{className:"font-semibold text-green-700 dark:text-green-400 flex justify-between",children:["AI Response:",(0,a.jsx)("button",{onClick:()=>{var e;return e=s[d].answer,void(navigator.clipboard.writeText(e),alert("Copied to clipboard!"))},className:"text-xs bg-gray-200 dark:bg-gray-600 px-2 py-1 rounded hover:bg-gray-300 dark:hover:bg-gray-500",children:"Copy"})]}),(0,a.jsx)("p",{className:"whitespace-pre-wrap text-black",children:s[d].answer})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 pt-2",children:["Answered: ",new Date(s[d].timestamp).toLocaleString()]})]}),(0,a.jsx)("div",{ref:g})]}),(0,a.jsx)("button",{onClick:()=>x(!h),className:"fixed bottom-4 right-4 z-50 p-3 rounded-full bg-gray-800 text-white hover:bg-gray-700",title:"Toggle dark mode",children:h?"\uD83C\uDF19":"☀️"})]})}},5044:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))}},e=>{e.O(0,[441,964,358],()=>e(e.s=5044)),_N_E=e.O()}]);