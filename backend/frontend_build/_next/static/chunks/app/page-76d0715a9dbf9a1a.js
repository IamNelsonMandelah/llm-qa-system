(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(5155),r=a(2115);function l(){let[e,t]=(0,r.useState)([]),[a,l]=(0,r.useState)(""),[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),[d,x]=(0,r.useState)("dark"),h=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;null==(e=h.current)||e.scrollIntoView({behavior:"smooth"})},[e]);let m=async e=>{try{await navigator.clipboard.writeText(e),alert(" Answer copied to clipboard!")}catch(e){alert(" Failed to copy.")}},u=async e=>{if(e.preventDefault(),a.trim()){n(!0),o(null);try{let e=await fetch("http://127.0.0.1:8000/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:a})}),s=await e.json();if(e.ok){let e={question:a,answer:s.answer,timestamp:new Date(s.timestamp_responded).toLocaleTimeString()};t(t=>[...t,e]),l("")}else o(s.detail||"Something went wrong.")}catch(e){o(" Cannot reach the server.")}finally{n(!1)}}};return(0,s.jsxs)("main",{className:"min-h-screen transition-colors duration-300 flex flex-col items-center justify-center p-4 ".concat("dark"===d?"bg-gray-900 text-white":"bg-white text-gray-900"),children:[(0,s.jsxs)("div",{className:"w-full max-w-2xl flex justify-between items-center mb-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"AI Chat Assistant"}),(0,s.jsxs)("button",{onClick:()=>{x(e=>"dark"===e?"light":"dark")},className:"px-3 py-1 text-sm border rounded hover:bg-gray-200 dark:hover:bg-gray-800 transition",children:["Switch to ","dark"===d?"Light":"Dark"," Mode"]})]}),(0,s.jsxs)("div",{className:"w-full max-w-2xl ".concat("dark"===d?"bg-gray-800":"bg-gray-100"," rounded-lg shadow-lg p-4 h-[70vh] overflow-y-auto"),children:[e.map((e,t)=>(0,s.jsxs)("div",{className:"mb-6 space-y-2",children:[(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("div",{className:"bg-blue-600 text-white rounded-lg px-4 py-2 max-w-xs text-right",children:(0,s.jsx)("p",{children:e.question})})}),(0,s.jsx)("div",{className:"flex justify-start",children:(0,s.jsxs)("div",{className:"rounded-lg px-4 py-2 max-w-xs ".concat("dark"===d?"bg-gray-700":"bg-gray-200"),children:[(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:e.answer}),(0,s.jsx)("button",{onClick:()=>m(e.answer),className:"text-xs text-blue-500 mt-2 hover:underline",children:"Copy"})]})}),(0,s.jsx)("p",{className:"text-xs text-center italic text-gray-500",children:e.timestamp})]},t)),(0,s.jsx)("div",{ref:h})]}),(0,s.jsxs)("form",{onSubmit:u,className:"w-full max-w-2xl mt-4 flex space-x-2",children:[(0,s.jsx)("textarea",{rows:2,className:"flex-grow p-2 rounded border focus:outline-none ".concat("dark"===d?"bg-gray-700 text-white border-gray-600":"bg-white text-black border-gray-300"),placeholder:"Ask something...",value:a,onChange:e=>l(e.target.value)}),(0,s.jsx)("button",{type:"submit",disabled:i,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded disabled:opacity-50",children:i?"Thinking...":"Ask AI"})]}),c&&(0,s.jsx)("div",{className:"mt-3 text-red-400 font-medium",children:c})]})}},5044:(e,t,a)=>{Promise.resolve().then(a.bind(a,1057))}},e=>{e.O(0,[441,964,358],()=>e(e.s=5044)),_N_E=e.O()}]);