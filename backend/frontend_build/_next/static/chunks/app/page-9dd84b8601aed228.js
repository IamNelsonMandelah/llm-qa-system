(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>n});var a=t(5155),r=t(2115);function n(){let[e,s]=(0,r.useState)(""),[t,n]=(0,r.useState)([]),[l,i]=(0,r.useState)(!1),[d,o]=(0,r.useState)(null),[c,u]=(0,r.useState)("light"),m=(0,r.useRef)(null);(0,r.useEffect)(()=>{var e;null==(e=m.current)||e.scrollIntoView({behavior:"smooth"})},[t]);let h=async t=>{t.preventDefault(),i(!0),o(null);try{let t=await fetch("/api/ask",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:e})}),a=await t.json();if(t.ok){let t={question:e,answer:a.answer,timestamp_received:a.timestamp_received,timestamp_responded:a.timestamp_responded};n(e=>[...e,t]),s("")}else o(a.detail||"Something went wrong.")}catch(e){o(" Cannot reach the server.")}finally{i(!1)}};return(0,a.jsx)("main",{className:"min-h-screen transition-colors duration-300 ".concat("dark"===c?"bg-gray-900 text-white":"bg-gray-100 text-gray-800"),children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"AI Chat Assistant"}),(0,a.jsxs)("button",{onClick:()=>u(e=>"dark"===e?"light":"dark"),className:"border px-3 py-1 rounded hover:bg-gray-300 dark:hover:bg-gray-700",children:["Toggle ","dark"===c?"Light":"Dark"," Mode"]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-6",children:[t.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"bg-blue-100 dark:bg-blue-800 p-3 rounded-lg self-end",children:[(0,a.jsx)("p",{className:"font-semibold",children:"You:"}),(0,a.jsx)("p",{children:e.question})]}),(0,a.jsxs)("div",{className:"bg-green-100 dark:bg-green-800 p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold",children:"AI:"}),(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:e.answer})]}),(0,a.jsx)("button",{onClick:()=>{var s;return s=e.answer,void navigator.clipboard.writeText(s)},className:"ml-2 text-sm text-blue-500 hover:underline",children:"Copy"})]}),(0,a.jsxs)("p",{className:"text-xs mt-2 text-gray-500 dark:text-gray-300",children:["Asked: ",new Date(e.timestamp_received).toLocaleString()," | Answered: ",new Date(e.timestamp_responded).toLocaleString()]})]})]},s)),(0,a.jsx)("div",{ref:m})]}),(0,a.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,a.jsx)("textarea",{rows:3,className:"w-full p-3 border rounded-lg resize-none focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white",placeholder:"Ask your question here...",value:e,onChange:e=>s(e.target.value),required:!0}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded",children:l?"Thinking...":"Ask AI"})]}),d&&(0,a.jsx)("p",{className:"mt-4 text-red-500 font-medium",children:d})]})})}},5044:(e,s,t)=>{Promise.resolve().then(t.bind(t,1057))}},e=>{e.O(0,[441,964,358],()=>e(e.s=5044)),_N_E=e.O()}]);